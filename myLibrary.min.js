var ecDo={trim:function(b,a){switch(a){case 1:return b.replace(/\s+/g,"");case 2:return b.replace(/(^\s*)|(\s*$)/g,"");case 3:return b.replace(/(^\s*)/g,"");case 4:return b.replace(/(\s*$)/g,"");default:return b}},changeCase:function(c,a){function b(e){var d="";e.split("").forEach(function(f){if(/^([a-z]+)/.test(f)){d+=f.toUpperCase()}else{if(/^([A-Z]+)/.test(f)){d+=f.toLowerCase()}else{d+=f}}});return d}switch(a){case 1:return c.replace(/\b\w+\b/g,function(d){return d.substring(0,1).toUpperCase()+d.substring(1).toLowerCase()});case 2:return c.replace(/\b\w+\b/g,function(d){return d.substring(0,1).toLowerCase()+d.substring(1).toUpperCase()});case 3:return b(c);case 4:return c.toUpperCase();case 5:return c.toLowerCase();default:return c}},repeatStr:function(d,b){var c="";for(var a=0;a<b;a++){c+=d}return c},replaceAll:function(c,b,a){raRegExp=new RegExp(b,"g");return c.replace(raRegExp,a)},replaceStr:function(f,j,e,c){var h="",a=null,b=c||"*";if(j.length===3&&e===0){h="(\\w{"+j[0]+"})\\w{"+j[1]+"}(\\w{"+j[2]+"})";a=new RegExp(h);var i=this.repeatStr(b,j[1]);return f.replace(a,"$1"+i+"$2")}else{if(j.length===3&&e===1){h="\\w{"+j[0]+"}(\\w{"+j[1]+"})\\w{"+j[2]+"}";a=new RegExp(h);var g=this.repeatStr(b,j[0]);var d=this.repeatStr(b,j[2]);return f.replace(a,g+"$1"+d)}else{if(j.length===1&&e==0){h="(^\\w{"+j[0]+"})";a=new RegExp(h);var i=this.repeatStr(b,j[0]);return f.replace(a,i)}else{if(j.length===1&&e==1){h="(\\w{"+j[0]+"}$)";a=new RegExp(h);var i=this.repeatStr(b,j[0]);return f.replace(a,i)}}}}},checkType:function(b,a){switch(a){case"email":return/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(b);case"phone":return/^1[3|4|5|7|8][0-9]{9}$/.test(b);case"tel":return/^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/.test(b);case"number":return/^[0-9]$/.test(b);case"english":return/^[a-zA-Z]+$/.test(b);case"text":return/^\w+$/.test(b);case"chinese":return/^[\u4E00-\u9FA5]+$/.test(b);case"lower":return/^[a-z]+$/.test(b);case"upper":return/^[A-Z]+$/.test(b);default:return true}},checkPwd:function(b){var a=0;if(b.length<6){return a}if(/[0-9]/.test(b)){a++}if(/[a-z]/.test(b)){a++}if(/[A-Z]/.test(b)){a++}if(/[\.|-|_]/.test(b)){a++}return a},randomWord:function(a){return Math.random().toString(a).substring(2)},countStr:function(b,a){return b.split(a).length-1},removeRepeatArray:function(a){return a.filter(function(d,c,b){return b.indexOf(d)==c})},upsetArr:function(a){return a.sort(function(){return Math.random()-0.5})},maxArr:function(a){return Math.max.apply(null,a)},minArr:function(a){return Math.min.apply(null,a)},sumArr:function(a){return a.reduce(function(b,c){return b+c})},covArr:function(a){return this.sumArr(a)/a.length},randomOne:function(a){return a[Math.floor(Math.random()*a.length)]},getEleCount:function(e,d){var b=0;for(var c=0,a=e.length;c<a;c++){if(d==e[c]){b++}}return b},getCount:function(h,g,d){var f={},c,l=[];for(var e=0,j=h.length;e<j;e++){c=h[e];if(f[c]){f[c]++}else{f[c]=1}}for(var a in f){l.push({el:a,count:f[a]})}l.sort(function(k,i){return i.count-k.count});if(d===1){l=l.reverse()}var b=g||l.length;return l.slice(0,b)},getArrayNum:function(a,d,c){var b=a.slice(d,c);return b},removeArrayForValue:function(a,c,b){a.filter(function(d){return b==="%"?d.indexOf(c)!==-1:d!==c})},getFontSize:function(){var d=document,c=window;var e=d.documentElement,a="orientationchange" in window?"orientationchange":"resize",b=function(){var f=e.clientWidth;if(!f){return}if(f>750){f=750}e.style.fontSize=100*(f/750)+"px"};c.addEventListener(a,b,false);d.addEventListener("DOMContentLoaded",b,false)},getEndTime:function(f){var g=new Date();var j=new Date(f);var b=j.getTime()-g.getTime();var i=0,e=0,a=0,c=0;if(b>=0){i=Math.floor(b/1000/3600/24);e=Math.floor(b/1000/60/60%24);a=Math.floor(b/1000/60%60);c=Math.floor(b/1000%60)}return"剩余时间"+i+"天 "+e+"小时 "+a+" 分钟"+c+" 秒"},randomColor:function(){return"#"+Math.random().toString(16).substring(2).substr(0,6)},randomNumber:function(b,a){if(arguments.length===2){return Math.round(b+Math.random()*(a-b))}else{if(arguments.length===1){return Math.round(Math.random()*b)}else{return Math.round(Math.random()*255)}}},setUrlPrmt:function(c){var a=[];for(var b in c){if(c[b]!=null&&c[b]!=""){a.push(b+"="+c[b])}}return a.join("&")},getUrlPrmt:function(b){b=b?b:window.location.href;var d=b.substring(b.indexOf("?")+1),h=d.split("&"),j={};for(var c=0,f=h.length;c<f;c++){var e=h[c].indexOf("=");if(e==-1){continue}var a=h[c].substring(0,e),g=window.decodeURIComponent(h[c].substring(e+1));j[a]=g}return j},upDigit:function(b){var g=["角","分","厘"];var f=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"];var h=[["元","万","亿"],["","拾","佰","仟"]];var e=b<0?"欠人民币":"人民币";b=Math.abs(b);var k="";for(var d=0;d<g.length;d++){k+=(f[Math.floor(b*10*Math.pow(10,d))%10]+g[d]).replace(/零./,"")}k=k||"整";b=Math.floor(b);for(var d=0;d<h[0].length&&b>0;d++){var a="";for(var c=0;c<h[1].length&&b>0;c++){a=f[b%10]+h[1][c]+a;b=Math.floor(b/10)}k=a.replace(/(零.)*零$/,"").replace(/^$/,"零")+h[0][d]+k}return e+k.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")},filterParams:function(c){var a={};for(var b in c){if((c[b]===0||c[b])&&c[b].toString().replace(/(^\s*)|(\s*$)/g,"")!==""){a[b]=c[b]}}return a},setCookie:function(b,d,a){var c=new Date();c.setDate(c.getDate()+a);document.cookie=b+"="+d+";expires="+c},getCookie:function(c){var a=document.cookie.split("; ");for(var d=0;d<a.length;d++){var b=a[d].split("=");if(b[0]==c){return b[1]}}return""},removeCookie:function(a){this.setCookie(a,1,-1)},hasClass:function(c,b){var a=c.className.split(/\s+/);return(a.indexOf(b)==-1)?false:true},addClass:function(b,a){if(!this.hasClass(b,a)){b.className+=" "+a}},removeClass:function(c,b){if(this.hasClass(c,b)){var a=new RegExp("(\\s|^)"+b+"(\\s|$)");c.className=c.className.replace(a,"")}},replaceClass:function(c,a,b){this.removeClass(c,b);this.addClass(c,a)},siblings:function(d){var b=[];var c=d.previousSibling;while(c){if(c.nodeType===1){b.push(c)}c=c.previousSibling}b.reverse();var e=d.nextSibling;while(e){if(e.nodeType===1){b.push(e)}e=e.nextSibling}return b},css:function(c,b){for(var a in b){c.style[a]=b[a]}},html:function(a){if(arguments.length==0){return this.innerHTML}else{if(arguments.length==1){this.innerHTML=arguments[0]}}},show:function(a){a.style.display=""},hide:function(a){a.style.display="none"},ecAjax:function(d){d=d||{};d.type=d.type.toUpperCase()||"POST";d.url=d.url||"";d.async=d.async||true;d.data=d.data||null;d.success=d.success||function(){};d.success=d.error||function(){};var c=null;if(XMLHttpRequest){c=new XMLHttpRequest()}else{c=new ActiveXObject("Microsoft.XMLHTTP")}var e=[];for(var b in d.data){e.push(b+"="+d.data[b])}var a=e.join("&");if(d.type.toUpperCase()==="POST"){c.open(d.type,d.url,d.async);c.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8");c.send(a)}else{if(d.type.toUpperCase()==="GET"){c.open(d.type,d.url+"?"+a,d.async);c.send(null)}}c.onreadystatechange=function(){if(c.readyState==4&&c.status==200){d.success(c.responseText)}else{d.error(c.responseText)}}},getOptionArray:function(e,l,h){var a=[];if(!l){return e}if(h===1){for(var d=0,f=e.length;d<f;d++){a.push(e[d][l])}return a}var g=l.split(","),k={};for(var d=0,f=e.length;d<f;d++){k={};for(var c=0,b=g.length;c<b;c++){k[g[c]]=e[d][g[c]]}a.push(k)}return a},filterOptionArray:function(b,h){var d=[];var g=h.split(","),c={};for(var f=0,a=b.length;f<a;f++){c={};for(var e in b[f]){if(g.indexOf(e)===-1){c[e]=b[f][e]}}d.push(c)}return d},aftLoadImg:function(d,b,a){var c=new Image(),e=this;c.src=b;c.onload=function(){d.src=c.src;if(a&&e.istype(a,"function")){a(d)}}},loadImg:function(c,d){var b=c||"ec-load-img",f=d||0,h=this;var g=document.getElementsByClassName(b);for(var e=0,a=g.length;e<a;e++){if(document.documentElement.clientHeight+document.body.scrollTop>g[e].offsetTop-f&&!g[e].isLoad){g[e].isLoad=true;g[e].style.cssText="transition: ''; opacity: 0;";if(g[e].dataset){this.aftLoadImg(g[e],g[e].dataset.src,function(i){setTimeout(function(){if(i.isLoad){h.removeClass(i,b);i.style.cssText=""}},1000)})}else{this.aftLoadImg(g[e],g[e].getAttribute("data-src"),function(i){setTimeout(function(){if(i.isLoad){h.removeClass(i,b);i.style.cssText=""}},1000)})}(function(j){setTimeout(function(){g[j].style.cssText="transition:all 1s; opacity: 1;"},16)})(e)}}},arraySort:function(b,d){if(!d){return b}var e=d.split(",").reverse(),c=b.slice(0);for(var f=0,a=e.length;f<a;f++){c.sort(function(h,g){return h[e[f]]-g[e[f]]})}return c},steamroller:function(a){var b=[];for(var c=0;c<a.length;c++){if(Array.isArray(a[c])){b.push.apply(b,steamroller(a[c]))}else{b.push(a[c])}}return b},createKeyExp:function(a){var c="";for(var b=0;b<a.length;b++){if(b!=a.length-1){c=c+a[b]+"|"}else{c=c+a[b]}}return"("+c+")"},findKey:function(g,d,e){var a=null,c=null,f=null,b=null,h=e||"span";a=d.split(/\s+/);c=this.createKeyExp(a);f=g;b=new RegExp(c,"g");f=f;f=f.replace(/<\/?[^>]*>/g,"");return f.replace(b,"<"+h+">$1</"+h+">")},istype:function(c,b){var a=b.toLowerCase();switch(a){case"string":return Object.prototype.toString.call(c)==="[object String]";case"number":return Object.prototype.toString.call(c)==="[object Number]";case"boolean":return Object.prototype.toString.call(c)==="[object Boolean]";case"undefined":return Object.prototype.toString.call(c)==="[object Undefined]";case"null":return Object.prototype.toString.call(c)==="[object Null]";case"function":return Object.prototype.toString.call(c)==="[object Function]";case"array":return Object.prototype.toString.call(c)==="[object Array]";case"object":return Object.prototype.toString.call(c)==="[object Object]";case"nan":return isNaN(c);default:return Object.prototype.toString.call(c)}},longestWord:function(d,e){var c=e||/\s+/g,b=0;var a=d.split(c);a.forEach(function(f){if(b<f.length){b=f.length}});return b},titleCaseUp:function(d,f){var c=f||/\s+/g;var a=d.split(c),b="",e=this;a.forEach(function(g){b+=e.changeCase(g,1)+" "});return this.trim(b,4)},browserInfo:function(a){switch(a){case"android":return navigator.userAgent.toLowerCase().indexOf("android")!==-1;case"iphone":return navigator.userAgent.toLowerCase().indexOf("iphone")!==-1;case"ipad":return navigator.userAgent.toLowerCase().indexOf("ipad")!==-1;case"weixin":return navigator.userAgent.toLowerCase().indexOf("MicroMessenger")!==-1;default:return navigator.userAgent.toLowerCase()}},filterStr:function(m,l,g,h){var e=l.split(","),n=m;for(var f=0,j=e.length;f<j;f++){if(e[f]==="special"){var b,d="$()[]{}?|^*+./\"'+";if(h){var a=h.split(""),k="[^0-9A-Za-z\\s";for(var f=0,j=a.length;f<j;f++){if(d.indexOf(a[f])===-1){k+=a[f]}else{k+="\\"+a[f]}}k+="]";b=new RegExp(k,"g")}else{b=new RegExp("[^0-9A-Za-z\\s]","g")}}var c=g||"";switch(e[f]){case"special":n=n.replace(b,c);break;case"html":n=n.replace(/<\/?[^>]*>/g,c);break;case"emjoy":n=n.replace(/[^\u4e00-\u9fa5|\u0000-\u00ff|\u3002|\uFF1F|\uFF01|\uff0c|\u3001|\uff1b|\uff1a|\u3008-\u300f|\u2018|\u2019|\u201c|\u201d|\uff08|\uff09|\u2014|\u2026|\u2013|\uff0e]/g,c);break;case"word":n=n.replace(/[a-z]/g,c);break;case"WORD":n=n.replace(/[A-Z]/g,c);break;case"number":n=n.replace(/[0-9]/g,c);break;case"chinese":n=n.replace(/[\u4E00-\u9FA5]/g,c);break}}return n}};var library={trim:function trim(b,a){switch(a){case 1:return b.replace(/\s+/g,"");case 2:return b.replace(/(^\s*)|(\s*$)/g,"");case 3:return b.replace(/(^\s*)/g,"");case 4:return b.replace(/(\s*$)/g,"");default:return b}},repeatStr:function(d,b){var c="";for(var a=0;a<b;a++){c+=d}return c},changeCase:function(c,a){function b(e){var d="";e.split("").forEach(function(f){if(/^([a-z]+)/.test(f)){d+=f.toUpperCase()}else{if(/^([A-Z]+)/.test(f)){d+=f.toLowerCase()}else{d+=f}}});return d}switch(a){case 1:return c.replace(/^(\w)(\w+)/,function(d,f,e){return f.toUpperCase()+e.toLowerCase()});case 2:return c.replace(/^(\w)(\w+)/,function(d,f,e){return f.toLowerCase()+e.toUpperCase()});case 3:return b(c);case 4:return c.toUpperCase();case 5:return c.toLowerCase();default:return c}},checkPwd:function(b){var a=0;if(b.length<6){return a}if(/[0-9]/.test(b)){a++}if(/[a-z]/.test(b)){a++}if(/[A-Z]/.test(b)){a++}if(/[\.|-|_]/.test(b)){a++}return a},checkType:function(b,a){switch(a){case"email":return/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(b);case"phone":return/^1[3|4|5|7|8][0-9]{9}$/.test(b);case"tel":return/^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/.test(b);case"number":return/^[0-9]$/.test(b);case"english":return/^[a-zA-Z]+$/.test(b);case"chinese":return/^[\u4E00-\u9FA5]+$/.test(b);case"lower":return/^[a-z]+$/.test(b);case"upper":return/^[A-Z]+$/.test(b);default:return true}},countStr:function(b,a){return b.split(a).length-1},randomNumber:function(a){return Math.random().toString(a).substring(2)},replaceAll:function(c,b,a){raRegExp=new RegExp(b,"g");return c.replace(raRegExp,a)},replaceStr:function(f,j,e,c){var h="",a=null,b=c||"*";if(j.length===3&&e===0){h="(\\w{"+j[0]+"})\\w{"+j[1]+"}(\\w{"+j[2]+"})";a=new RegExp(h);var i=this.repeatStr(b,j[1]);return f.replace(a,"$1"+i+"$2")}else{if(j.length===3&&e===1){h="\\w{"+j[0]+"}(\\w{"+j[1]+"})\\w{"+j[2]+"}";a=new RegExp(h);var g=this.repeatStr(b,j[0]);var d=this.repeatStr(b,j[2]);return f.replace(a,g+"$1"+d)}else{if(j.length===1&&e==0){h="(^\\w{"+j[0]+"})";a=new RegExp(h);var i=this.repeatStr(b,j[0]);return f.replace(a,i)}else{if(j.length===1&&e==1){h="(\\w{"+j[0]+"}$)";a=new RegExp(h);var i=this.repeatStr(b,j[0]);return f.replace(a,i)}}}}}};